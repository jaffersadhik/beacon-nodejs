<form *ngIf="SharedGroupsFormGroup" [formGroup]="SharedGroupsFormGroup">
	<div>
		<div class="text-lg font-semibold text-gray-700 mt-0">
			Allocate Groups
		</div>

		<div
			class="mt-2 md:flex w-full items-center justify-between md:space-x-8 mb-10"
		>
			<div class="flex flex-col md:ml-0 md:mt-0 mt-8 md:w-full">
				<div
					class="rounded-md bg-light-blue-50 p-4 mt-4 border border-blue-400 border-dashed"
				>
					<div class="flex items-center">
						<div class="flex-shrink-0">
							<svg
								class="h-7 w-7 text-blue-500"
								viewBox="0 0 24 24"
								version="1.1"
							>
								<g
									stroke="none"
									stroke-width="1"
									fill="none"
									fill-rule="evenodd"
								>
									<polygon points="0 0 24 0 24 24 0 24" />
									<path
										d="M22,15 L22,19 C22,20.1045695 21.1045695,21 20,21 L8,21 C5.790861,21 4,19.209139 4,17 C4,14.790861 5.790861,13 8,13 L20,13 C21.1045695,13 22,13.8954305 22,15 Z M7,19 C8.1045695,19 9,18.1045695 9,17 C9,15.8954305 8.1045695,15 7,15 C5.8954305,15 5,15.8954305 5,17 C5,18.1045695 5.8954305,19 7,19 Z"
										fill="currentColor"
										opacity="0.3"
									/>
									<path
										d="M15.5421357,5.69999981 L18.3705628,8.52842693 C19.1516114,9.30947552 19.1516114,10.5758055 18.3705628,11.3568541 L9.88528147,19.8421354 C8.3231843,21.4042326 5.79052439,21.4042326 4.22842722,19.8421354 C2.66633005,18.2800383 2.66633005,15.7473784 4.22842722,14.1852812 L12.7137086,5.69999981 C13.4947572,4.91895123 14.7610871,4.91895123 15.5421357,5.69999981 Z M7,19 C8.1045695,19 9,18.1045695 9,17 C9,15.8954305 8.1045695,15 7,15 C5.8954305,15 5,15.8954305 5,17 C5,18.1045695 5.8954305,19 7,19 Z"
										fill="currentColor"
										opacity="0.3"
									/>
									<path
										d="M5,3 L9,3 C10.1045695,3 11,3.8954305 11,5 L11,17 C11,19.209139 9.209139,21 7,21 C4.790861,21 3,19.209139 3,17 L3,5 C3,3.8954305 3.8954305,3 5,3 Z M7,19 C8.1045695,19 9,18.1045695 9,17 C9,15.8954305 8.1045695,15 7,15 C5.8954305,15 5,15.8954305 5,17 C5,18.1045695 5.8954305,19 7,19 Z"
										fill="currentColor"
									/>
								</g>
							</svg>
						</div>
						<div class="ml-3 flex-1 md:flex md:justify-between">
							<p class="text-xs text-gray-500 font-medium">
								You can now share your groups to your users.
								Please note that only Shared Group can be
								assigned
							</p>
						</div>
					</div>
				</div>

				<!-- selected groups -->
				<div class="flex mt-6 justify-end space-x-4">
					<button
						type="button"
						class="inline-flex items-center px-1 py-1.5 text-sm leading-4 font-medium tracking-wide rounded-md text-red-400 hover:underline focus:outline-none"
						(click)="openModal()"
						*ngIf=" (this.selectedSharedGroups!= null &&
                this.selectedSharedGroups.length >0)"
					>
						<svg
							class="h-3 w-3 mr-1"
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 20 20"
							fill="currentColor"
						>
							<path
								fill-rule="evenodd"
								d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
								clip-rule="evenodd"
							/>
						</svg>
						Remove All
					</button>
					<button
						type="button"
						(click)="onClickChoose()"
						class="inline-flex items-center px-1 py-1.5 text-sm leading-4 font-medium tracking-wide rounded-md text-blue-500 bg-white hover:underline focus:outline-none"
					>
						<!-- Heroicon name: solid/mail -->
						<svg
							class="h-4 w-4"
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 20 20"
							fill="currentColor"
							stroke="none"
						>
							<path
								fill-rule="evenodd"
								d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
								clip-rule="evenodd"
							/>
						</svg>
						Add
					</button>
				</div>
				<div
					class="flex flex-wrap pl-3 pt-2 pb-1 border-2 border-gray-300 border-dashed rounded-md h-24"
				>
					<div
						*ngIf="selectedSharedGroups.length==0"
						class="space-y-1 text-center cursor-pointer justify-center flex-1 items-center"
                        (click)="onClickChoose()"
					>
						<svg
							class="mx-auto h-12 w-12 text-gray-400"
							stroke="currentColor"
							fill="none"
							viewBox="0 0 24 24"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1"
								d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
							/>
						</svg>
						<div
							class="flex justify-center text-xs md:text-sm text-gray-600"
							
						>
							<label
								for="groups"
								class="relative cursor-pointer bg-white rounded-md font-medium text-gray-500 focus-within:outline-none"
							>
								<span
									>No Groups selected. Click Add to add
									groups</span
								>
							</label>
						</div>
					</div>
					<div
						class="space-y-2 overflow-auto"
						*ngFor="let group of selectedSharedGroups; index as i"
					>
						<span
							class="inline-flex rounded-md items-center justify-center py-1 pl-2.5 pr-1 text-xs font-medium bg-light-blue-100 text-light-blue-600 mr-1.5"
							*ngIf="group.g_type == 'normal'"
						>
							{{group.g_name}}
							<button
								type="button"
								(click)="removeGroup(i)"
								class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none focus:bg-indigo-500 focus:text-white"
							>
								<span class="sr-only"
									>Remove selected group</span
								>
								<svg
									class="h-2 w-2"
									stroke="currentColor"
									fill="none"
									viewBox="0 0 8 8"
								>
									<path
										stroke-linecap="round"
										stroke-width="1.5"
										d="M1 1l6 6m0-6L1 7"
									/>
								</svg>
							</button>
						</span>
						<span
							class="inline-flex rounded-md items-center py-0.5 pl-2.5 pr-1 text-xs font-medium bg-yellow-100 text-yellow-700 mr-1.5"
							*ngIf="group.g_type == 'exclude'"
						>
							{{group.g_name}}
							<button
								type="button"
								(click)="removeGroup(i)"
								class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-yellow-400 hover:bg-yellow-200 hover:text-yellow-500 focus:outline-none focus:bg-yellow-500 focus:text-white"
							>
								<span class="sr-only"
									>Remove selected group</span
								>
								<svg
									class="h-2 w-2"
									stroke="currentColor"
									fill="none"
									viewBox="0 0 8 8"
								>
									<path
										stroke-linecap="round"
										stroke-width="1.5"
										d="M1 1l6 6m0-6L1 7"
									/>
								</svg>
							</button>
						</span>
					</div>
				</div>
			</div>
		</div>
		<!-- button section -->
		<div class="flex justify-end mt-10 border-t pt-6 border-gray-200">
			<div class="flex space-x-4">
				<app-discard-button
					[formGroup]="SharedGroupsFormGroup"
					[title]="'Groups'"
					[formChanged]="formChanged"
					(updated)="handleDiscarded()"
				>
				</app-discard-button>

				<app-save-button
					[formGroup]="SharedGroupsFormGroup"
					[title]="'Groups'"
					[formChanged]="formChanged"
					(updated)="handleSaved()"
				></app-save-button>
			</div>
		</div>
	</div>
</form>
<app-groups-slider *ngIf ="showSlider"
[fromPage]="'account'"   
	
	[groupList]="groups"
	(addedGroups)="addedGroups($event)"
	(closeSlider)="closeSlider()"
></app-groups-slider>

<app-clear-modal
	[title]="'Clear Message'"
	[confirmationMessage]="'Are you sure you want to clear out the selected Groups'"
	[confirmLable]="'Clear'"
	(clearModalResponse)="clearModalResponse($event)"
	*ngIf="openClearModal"
>
</app-clear-modal>
